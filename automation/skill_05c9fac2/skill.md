---
name: code-feeder
description: å½“ç”¨æˆ·éœ€å°†ä»£ç æä¾›ç»™å¤–éƒ¨ AIï¼ˆé‡æ„/åˆ†æ/ä¿®å¤ï¼‰æ—¶æ¿€æ´»ã€‚è‡ªåŠ¨æ”¶é›†ä»£ç ã€è®°å½•æ„å›¾ã€ç”Ÿæˆä¸Šä¸‹æ–‡æ–‡æ¡£ã€‚æ”¯æŒå¢é‡åˆå¹¶ã€‚
---

# Code Feeder Skill

**ç›®æ ‡**ï¼šç”ŸæˆåŒ…å«**ç”¨æˆ·æ„å›¾**å’Œ**å…³é”®ä»£ç **çš„é«˜è´¨é‡ Markdown æ–‡æ¡£ã€‚
**è„šæœ¬è·¯å¾„**ï¼š`~/.claude/skills/code-feeder/scripts/` (è‹¥ä¸å­˜åœ¨åˆ™æœç´¢ `code_collector.py`)

## ğŸ§  æ ¸å¿ƒæ³•åˆ™

1.  **æ„å›¾ç¬¬ä¸€**ï¼šå¿…é¡»è¯¢é—®æ”¶é›†ç›®çš„ï¼ˆå¦‚"é‡æ„ç™»å½•"ï¼‰ï¼Œå¹¶å†™å…¥æ–‡æ¡£ã€‚
2.  **ç²¾å‡†é‡‡é›†**ï¼šæ ¹æ®æ„å›¾æŒ‘é€‰ä»£ç ã€‚å°æ–‡ä»¶æ‰¹é‡å¯¼å…¥ï¼Œå¤§æ–‡ä»¶æå–ç‰‡æ®µã€‚
3.  **é—­ç¯è¡¥å…¨**ï¼šå·¥å…·åé¦ˆ"è·³è¿‡"çš„æ–‡ä»¶ï¼Œ**å¿…é¡»**ç”¨ `--append` æ¨¡å¼æå–å…³é”®ç‰‡æ®µè¡¥å…¨ã€‚

## âš™ï¸ æ¨¡å¼å†³ç­–

| æ¨¡å¼ | æ ‡å¿— | é€‚ç”¨åœºæ™¯ | å…³é”®å‚æ•° |
| :--- | :--- | :--- | :--- |
| **Batch** | `--mode batch` | å°æ–‡ä»¶/é…ç½®æ–‡ä»¶ | `--files f1 f2` |
| **Snippets** | `--mode snippets` | å¤§æ–‡ä»¶(>500KB)/ç‰¹å®šå‡½æ•° | `--target f1 --ranges [...]` |
| **Append** | `--append` | è¡¥å…¨æ¼æ‰çš„æ–‡ä»¶/å¢é‡æ›´æ–° | (é…åˆ Snippets ä½¿ç”¨) |

## ğŸ“‹ æ‰§è¡Œæµç¨‹

### 1. ç¡®è®¤æ„å›¾
è‹¥æœªæä¾›ï¼Œè¯¢é—®ï¼š"æ”¶é›†ä»£ç çš„å…·ä½“ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå…³æ³¨å“ªäº›æ¨¡å—ï¼Ÿ"

### 2. æ£€æµ‹ä¸è§„åˆ’
```bash
python {script_dir}/detect_project.py "{project_path}"
```
*æ ¹æ®è¾“å‡ºå¿½ç•¥æ— å…³ç›®å½•ï¼Œèšç„¦æ ¸å¿ƒæ–‡ä»¶ã€‚*

### 3. æ‰§è¡Œæ”¶é›†
**A. æ‰¹é‡æ¨¡å¼ (é¦–é€‰)**
```bash
python {script_dir}/code_collector.py "{project_path}" \
  --mode batch --files src/main.py config.json ... \
  --intent "{user_intent}" --output "ctx.md"
```

**B. ç‰‡æ®µæ¨¡å¼ (é’ˆå¯¹å¤§æ–‡ä»¶/ç‰¹å®šé€»è¾‘)**
*æ”¯æŒç±»å‹: `function`, `class`, `method`, `lines`*
```bash
python {script_dir}/code_collector.py "{project_path}" \
  --mode snippets --target "src/heavy.js" \
  --ranges '[{{"type":"function","name":"login"}}, {{"type":"lines","start":1,"end":50}}]' \
  --intent "{user_intent}" --output "ctx.md"
```

### 4. è¡¥å…¨ (Critical)
æ£€æŸ¥è¾“å‡ºä¸­çš„ **"âš ï¸ è·³è¿‡çš„æ–‡ä»¶"**ã€‚è‹¥æ–‡ä»¶é‡è¦ï¼Œ**ç«‹å³**ç”¨è¿½åŠ æ¨¡å¼æå–ï¼š
```bash
python {script_dir}/code_collector.py "{project_path}" \
  --mode snippets --target "skipped_file.py" \
  --ranges '[{{"type":"function","name":"core_logic"}}]' \
  --output "ctx.md" --append
```

### 5. å®¡æ ¸ä¸æ‰‹åŠ¨ä¿®è¡¥
**Read** ç”Ÿæˆçš„æ–‡æ¡£ï¼Œæ£€æŸ¥å®Œæ•´æ€§ä¸æ­£ç¡®æ€§ï¼š
- **å…³é”®ç¼ºå¤±**ï¼šè‹¥å·¥å…·æ— æ³•æå–ï¼ˆå¦‚å¤æ‚æ­£åˆ™å¤±æ•ˆï¼‰ä½†ä»£ç è‡³å…³é‡è¦ï¼Œ**å¿…é¡»æ‰‹åŠ¨ Read æ–‡ä»¶å†…å®¹**ï¼Œå¹¶æŒ‰æ–‡ä»¶ä¸­åŒæ ·çš„æ ¼å¼æ‰‹åŠ¨è¿½åŠ åˆ°å¯¹åº”åŒºåŸŸçš„ä½ç½®ï¼Œå¹¶æ›´æ–°ç›¸å…³ç›®å½•æ ‘å’Œç»Ÿè®¡ä¿¡æ¯ã€‚
- **ç»“æ„æ£€æŸ¥**ï¼šç¡®è®¤ç›®å½•æ ‘å’Œç»Ÿè®¡ä¿¡æ¯æ­£å¸¸ã€‚

### 6. äº¤ä»˜
å‘ŠçŸ¥ç”¨æˆ·æ–‡æ¡£è·¯å¾„ï¼Œå¹¶ç¡®è®¤å·²åŒ…å«æ„å›¾å’Œæ ¸å¿ƒé€»è¾‘ã€‚

## âš ï¸ å¼‚å¸¸æŒ‡å—
- **äºŒè¿›åˆ¶æ–‡ä»¶**ï¼šä»…åœ¨æ–‡æ¡£ä¸­æ³¨æ˜å­˜åœ¨ï¼Œä¸å¯è¯»å–ã€‚
- **æå–å¤±è´¥**ï¼šè‹¥å‡½æ•°æå–å¤±è´¥ï¼Œé™çº§ä½¿ç”¨ `lines` è¡Œå·èŒƒå›´æå–ã€‚